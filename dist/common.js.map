{"version":3,"file":"common.js","mappings":";;;;;;;;;;;;;;;;;AAAA;AAmBA;AAAA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAtBA;AAAA;AAAA;AAAA;AAwBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA","sources":["webpack://wanqing/._src_store_userStore.ts"],"sourcesContent":["import { create } from 'zustand'\r\n\r\ninterface UserInfo {\r\n  id: string\r\n  username: string\r\n  avatar?: string\r\n  phone?: string\r\n}\r\n\r\ninterface UserState {\r\n  isLoggedIn: boolean\r\n  token: string\r\n  userInfo: UserInfo | null\r\n  setToken: (token: string) => void\r\n  setUserInfo: (info: UserInfo) => void\r\n  login: (username: string, password: string) => Promise<boolean>\r\n  logout: () => void\r\n}\r\n\r\nexport const useUserStore = create<UserState>((set, get) => ({\r\n  isLoggedIn: false,\r\n  token: '',\r\n  userInfo: null,\r\n\r\n  setToken: (token) => set({ token }),\r\n\r\n  setUserInfo: (info) => set({ userInfo: info, isLoggedIn: true }),\r\n\r\n  login: async (username, password) => {\r\n    // 模拟登录请求\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        // 简单的模拟验证\r\n        if (username && password) {\r\n          const userInfo: UserInfo = {\r\n            id: '1',\r\n            username: username,\r\n            avatar: 'https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100&h=100&fit=crop'\r\n          }\r\n          set({\r\n            userInfo,\r\n            isLoggedIn: true,\r\n            token: 'mock_token_' + Date.now()\r\n          })\r\n          resolve(true)\r\n        } else {\r\n          resolve(false)\r\n        }\r\n      }, 500)\r\n    })\r\n  },\r\n\r\n  logout: () => {\r\n    set({\r\n      isLoggedIn: false,\r\n      token: '',\r\n      userInfo: null\r\n    })\r\n  }\r\n}))\r\n"],"names":[],"sourceRoot":""}