{"version":3,"file":"pages/login/index.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAAA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AALA;AAAA;AAOA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAjDA;AAAA;AAAA;AAmDA;AACA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AAAA;AAEA;AAAA;AAAA;AAIA;AACA;AAAA;AAGA;AAAA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAGA;AAAA;AACA;AAAA;AACA;AAAA;AAEA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAGA;AAAA;AACA;AAAA;AAEA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AAAA;AACA;AACA;AAIA;AACA;AACA;AAAA;AAEA;AACA;AAGA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAGA;AAEA;;;;;;;;;;;;;ACpKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://wanqing/._src_pages_login_index.tsx","webpack://wanqing/./src/pages/login/index.tsx?4ec2","webpack://wanqing/._src_assets_images_icons_ sync ^_.__icon_-eye.*_.png$","webpack://wanqing/._node_modules_@babel_runtime_helpers_esm_objectSpread2.js"],"sourcesContent":["import { useState } from 'react'\nimport { View, Image, Input, Button, Text } from '@tarojs/components'\nimport Taro from '@tarojs/taro'\nimport { useUserStore } from '@/store/userStore'\nimport './index.scss'\n\ninterface LoginState {\n  username: string\n  password: string\n  showPassword: boolean\n  loading: boolean\n}\n\nfunction Login() {\n  const [state, setState] = useState<LoginState>({\n    username: '',\n    password: '',\n    showPassword: false,\n    loading: false\n  })\n\n  const { login } = useUserStore()\n\n  const handleUsernameChange = (e: any) => {\n    setState(prev => ({ ...prev, username: e.detail.value }))\n  }\n\n  const handlePasswordChange = (e: any) => {\n    setState(prev => ({ ...prev, password: e.detail.value }))\n  }\n\n  const togglePasswordVisibility = () => {\n    setState(prev => ({ ...prev, showPassword: !prev.showPassword }))\n  }\n\n  const handleLogin = async () => {\n    const { username, password } = state\n\n    if (!username.trim()) {\n      Taro.showToast({\n        title: '请输入用户名',\n        icon: 'none'\n      })\n      return\n    }\n\n    if (!password.trim()) {\n      Taro.showToast({\n        title: '请输入密码',\n        icon: 'none'\n      })\n      return\n    }\n\n    setState(prev => ({ ...prev, loading: true }))\n\n    try {\n      const success = await login(username, password)\n\n      if (success) {\n        Taro.showToast({\n          title: '登录成功',\n          icon: 'success'\n        })\n\n        setTimeout(() => {\n          Taro.switchTab({\n            url: '/pages/home/index'\n          })\n        }, 1000)\n      } else {\n        Taro.showToast({\n          title: '登录失败',\n          icon: 'error'\n        })\n      }\n    } catch (error) {\n      Taro.showToast({\n        title: '登录失败',\n        icon: 'error'\n      })\n    } finally {\n      setState(prev => ({ ...prev, loading: false }))\n    }\n  }\n\n  return (\n    <View className=\"login-page\">\n      <View className=\"login-background\">\n      <Image\n          src={require('../../assets/images/backgrounds/login-bg.png')}\n          className=\"bg-image\"\n          mode=\"aspectFill\"\n        />\n        <View className=\"bg-overlay\" />\n      </View>\n\n      <Image\n        src={require('../../assets/images/icons/icon-logo.png')}\n        className=\"logo\"\n      />\n\n      <View className=\"login-container\">\n        <View className=\"login-header\">\n         \n          <Text className=\"app-slogan\">温暖相伴，幸福晚年</Text>\n        </View>\n\n        <View className=\"login-form\">\n          <View className=\"form-item\">\n            <View className=\"input-wrapper\">\n              <Image\n                src={require('../../assets/images/icons/icon-login-user.png')}\n                className=\"input-icon\"\n              />\n              <Input\n                className=\"input-field\"\n                placeholder=\"请输入用户名\"\n                value={state.username}\n                onInput={handleUsernameChange}\n                placeholderClass=\"input-placeholder\"\n              />\n            </View>\n          </View>\n\n          <View className=\"form-item\">\n            <View className=\"input-wrapper\">\n              <Image\n                src={require('../../assets/images/icons/icon-password.png')}\n                className=\"input-icon\"\n              />\n              <Input\n                className=\"input-field\"\n                placeholder=\"请输入密码\"\n                password={!state.showPassword}\n                value={state.password}\n                onInput={handlePasswordChange}\n                placeholderClass=\"input-placeholder\"\n              />\n              <Image\n                src={require(`../../assets/images/icons/icon-eye${state.showPassword ? '-off' : ''}.png`)}\n                className=\"eye-icon\"\n                onClick={togglePasswordVisibility}\n              />\n            </View>\n          </View>\n\n          <Button\n            className={`login-button ${state.loading ? 'loading' : ''}`}\n            onClick={handleLogin}\n            disabled={state.loading}\n          >\n            {state.loading ? '登录中...' : '登录'}  \n          </Button>\n        </View>\n\n        <View className=\"login-footer\">\n          <Text className=\"footer-text\">登录即表示同意《用户协议》和《隐私政策》</Text>\n        </View>\n      </View>\n    </View>\n  )\n}\n\nexport default Login\n","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"!!../../../node_modules/@tarojs/taro-loader/lib/entry-cache.js?name=pages/login/index!./index.tsx\"\nvar config = {\"navigationBarTitleText\":\"登录\",\"navigationBarBackgroundColor\":\"#ff9800\",\"navigationBarTextStyle\":\"white\"};\n\n\n\nvar taroOption = createPageConfig(component, 'pages/login/index', {root:{cn:[]}}, config || {})\nif (component && component.behaviors) {\n  taroOption.behaviors = (taroOption.behaviors || []).concat(component.behaviors)\n}\nvar inst = Page(taroOption)\n\n\n\nexport default component\n","var map = {\n\t\"./icon-eye-off.png\": \"./src/assets/images/icons/icon-eye-off.png\",\n\t\"./icon-eye.png\": \"./src/assets/images/icons/icon-eye.png\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./src/assets/images/icons sync recursive ^\\\\.\\\\/icon\\\\-eye.*\\\\.png$\";","import defineProperty from \"./defineProperty.js\";\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nexport { _objectSpread2 as default };"],"names":[],"sourceRoot":""}